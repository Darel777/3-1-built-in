## lec1 嵌入式系统概述 对应一、二、（划重点文档序号）

### 	一、**嵌入式系统的定义**

​		1.ieee：嵌入式系统是用于控制、监视或者辅助操作机器和设备的装置。

​		2.国内：嵌入式系统是以应用为中心，以计算机技术为基础，软硬件可裁减，适用于应用系统对功能、可靠性、成本、体积、功耗有严格要求的专用计算机系统。

### 	二、**嵌入式系统的特点**

​		1.嵌入式系统通常是形式多样、面向特定应用的。

​		2.嵌入式系统得到多种类型的处理器和处理器体系结构的支持。

​		3.嵌入式系统通常极其关注成本。

​		4.嵌入式系统有实时性和可靠性的要求。

​		5.嵌入式系统使用的操作系统是适应多种处理器、可剪裁、轻量型、实时可靠、可固化的嵌入式操作系统。

​		6.嵌入式系统开发需要专门工具和特殊方法。

### 	三、**嵌入式系统的分类**

​		1.按嵌入式处理器的位数来分类：4816大量应用，32成为主流发展趋势，64位的嵌入式，高度复杂的、高速的嵌入式系统已经开始采用。

​		2.按应用分类：移动互联网、可穿戴设备、生物仿真、环境工程、信息通讯、智能农业、智慧交通，等等。

​		3.按速度分类：强实时系统, 其系统响应时间在毫秒或微秒级；⼀般实时系统, 其系统响应时间在⼏秒的数量级上,其实时性的要求⽐强实时系统要差⼀些；弱实时系统, 其系统响应时间约为数⼗秒或更⻓。这种系统的响应时间可能随系统负载的轻重⽽变化。

​		4.按确定性分类：

​			硬实时系统：系统对系统响应时间有严格的要求，如果系统响应时间不能满⾜，就要引起系统崩溃或致命的错误。

​			软实时系统：系统对系统响应时间有要求，但是如果系统响应时间不能满⾜，不会导致系统出现致命的错误或崩溃。

​		5.按嵌入式系统软件复杂程度分类：循环轮询系统、有限状态机系统、前后台系统、单处理器多任务系统、多处理器多任务系统。

### 	四、嵌入式的典型应用

​		工控设备、军用电子设备、航天航空、汽车电子、信息家电、通信、智能玩具、可穿戴设备、无线感知网络、CPS、IOT。

### 五、嵌入式系统的基本组成

​		嵌入式系统一般由嵌入式硬件和软件组成。硬件以微处理器为核心集成存储器和系统专用的输入/输出设备。软件包括：初始化代码及驱动、嵌入式操作系统和应用程序等，这些软件有机地结合在一起，形成系统特定的一体化软件。

​		按照从上到下：应用软件-中间件-运行/实时内核-驱动-系统硬件。

### 六、IOT

​		物联网是指物理设备、车辆、建筑物和其它嵌入电子的设备，软件、传感器、致动器，以及能够使他们收集并交换数据的网络连接的集合体。

### 七、CPS

​		CPS，信息物理系统，是计算进程和物理进程的统一体，集计算、通信、控制于一体的下一代智能系统，由嵌入式系统、互联网和控制器组成。

![](https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Introduction-to-Embedded-Systems/img/exam3/1.png)

### 八、什么是传感器？写出常用传感器。

​		传感器是通过物理接口，将光、声音、温度等转化为具体数值的装置。

​		常见传感器：声音/温度/光/压力/湿度传感器

### 九、嵌入式系统、人工智能、自动控制的关系

​		嵌入式系统体现自动控制。

​		人工智能让嵌入式系统智能化。

​		人工智能更好实现自动控制。

## lec2 嵌入式系统设计方法 对应三、

### 一、嵌入式系统设计所面临的挑战

​		1.需要多少硬件？

​		2.如何满足时限需求，如何处理多项功能在时间上的协同关系？

​		3.如何降低系统的功耗？

​		4.如何设计以保证系统可升级？

​		5.如何保证系统可靠地工作？

### 二、传统的嵌入式开发过程

​		1.系统在一开始就被划分为软件和硬件两大部分

​		2.软件和硬件独立进行开发设计

​		3.经常采用“硬件优先”方法

​		问题：

​		1.软硬件之间的交互受到很大限制：凭经验划分软硬件，软硬件之间的相互性能影响很难评估。

​		2.系统集成滞后，一次性工程费用过高。

​		3.设计质量差、设计修改难、研制周期不能得到保障。

### 三、软硬件协同设计 HW/SW Co-design （次重点）

​		1.软硬件协同设计是指对系统中的软硬件部分使用统一的描述和工具进行集成开发，可完成全系统的设计验证并跨越软硬件界面进行系统优化。

​		2.软硬件协同设计可以通过协同作用来实现系统级目标

​		3.软硬件协同设计提供分析方法和综合方法提高嵌入式系统设计的可预测性，在告诉设计者性能是否满足的同时，让设计者评估潜在的设计方法。

​		4.已成为主流技术。

### 四、软硬件划分（影响软硬件折衷方案——双重性、速度、灵活性、开销，双重性为前提）

​		1.设计中必须决定什么功能由硬件实现，什么功能由软件实现。

​		2.硬件和软件具有双重性，是划分决策的前提。

​		3.软硬件变动对系统的决策造成影响。

​		通常由软件实现的部分：操作系统功能（任务调度、资源管理、设备驱动）；协议栈（TCP/IP）；应用软件框架。

​		通常由硬件实现的部分：基本系统，物理接口，基本逻辑电路。

​		双重部分：算法（加密解密、编码解码、压缩解压）；数学运算（浮点运算、FFT）。

​		软硬件技术对系统结构的影响：硬软件的设计呈现融合渗透的趋势；系统设计更加趋于协同设计，在增加灵活性的同时增加了风险。

### 五、模型

​		面向状态模型：FSM

​		面向活动模型：数据流图、过程模型

​		面向结构模型：系统框图

​		面向数据模型：ER图。

## lec3 嵌入式微处理器 对应四（4.1）、

### 一、冯诺依曼架构与哈佛架构

​		冯：存储器保存数据指令、CPU从内存获取指令、CPU寄存器（PC,IR,通用寄存器）为运算提供帮助。

​		哈：它是一种将程序指令和数据储存分开的存储器结构。它不能使用自修改代码，允许进行两次内存提取，是大多数数据信号处理传输数据的架构（有更大的内存带宽和更可预测的带宽）

### 二、RISC CISC

![](https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Introduction-to-Embedded-Systems/img/lec3/3.png)

### 三、处理器流水线

​		CPU流水线技术是一种将指令分解为多步，并让不同的指令的各步操作重叠，从而实现几条指令并行处理，以加速程序运行过程的技术。主要有三级流水线、五级流水线、六级流水线三种类型。

​		指令集的特殊功能消除了代码的小规模跳跃，以获得最佳的流水线处理模式。

​		影响流水线性能的因素：结构阻滞（两条指令同时使用一个硬件资源）、数据阻滞（后续指令需要用到前面指令的结果）、控制阻滞（流水线遇到分支指令和其他改变PC寄存器值的指令）。解决方法是分支预测。

### 四、嵌入式微处理器的分类

​		1.MPU 嵌入式微处理单元

​			即和通用计算机的处理器对应的CPU，功能和微处理器基本相同，32位及以上，性能较高。

​			体积小、功耗少、成本低、可靠性高、工业级。

​			ARM,POWER,MIPS。

​		2.MCU 嵌入式微控制器

​			将整个计算机系统的主要硬件（ROM/EPROM，RAM，总线，总线逻辑，定时/计数器，看门狗，IO）集成到一块芯片中，多是8位和16位的，32位的不多。

​			衍生产品多、体积小、功耗少、成本低、可靠性高、是嵌入式工业主流。

​			通用系列和半通用系列。

​		3.嵌入式DSP处理器

​			专用于信号处理方面，有很高的编译效率和指令执行速度

​			德州仪器、模拟器件公司、摩托罗拉公司

​		4.嵌入式SoC

​			追求产品系统最大包容的集成器件。绝大多数系统构件都在一个系统芯片内部。

​			结构简洁、体积小、功耗小、可靠性高、生产效率高

​			高通骁龙、麒麟海思

### 五、嵌入式处理器的选型（其实就是选择嵌入式处理器的指南）

​		1.选择微控制器的标准：有效且经济地满足需求（速度、RAM、ROM、IO数量、是否易于升级、单位成本多少），软件开发工具是否可用，来源是否可靠。

​		2.十个步骤：列出硬件接口、检查软件架构、选择架构、确定内存需求、寻找微控制器、检查成本和功率约束、检查零件可用性、选择开发套件、研究编译器和工具、开始实验。

​		3.上一个问题中四类处理器的适用范围。

## lec4 内存架构 对应四（4.2）、

### 一、存储器系统的层次结构（咋啥课都有这玩意）

​		寄存器》一级缓存》二级缓存》三级缓存》主存》本地二级存储（本地磁盘）》远程二级存储（分布式文件系统、WEB服务器等）

### 二、RAM的种类和选型

​		总的来说，RAM分为静态RAM（SRAM）和动态RAM（DRAM）两种。

​		1.静态RAM更快，密度更低，功耗更高，因为它是在静态触发器的基础上附加门控管而构成的，一般用于高速缓存。

​		2.动态RAM密度高，但是需要刷新。同步动态随机存取内存（SDRAM）占主导地位。SDRAM使用时钟提高性能表现，采取流水线内存访问模式。

### 三、ROM的种类和选型

​		1.ROM可能是在工厂就已经编程好的。这种ROM叫做固定ROM，也成为掩膜ROM。

​		1.PROM一次编程ROM

​		1.EPROM可擦除ROM

​		1.EEPROM电可擦除ROM

​		2.闪存是可编程ROM的主要形式。它是电可擦除的，但必须块擦除；随机存取，但擦除和写入比读取慢得多；

​		3.NOR闪存更灵活，而NAND闪存更密集

### 四、Flash的种类和选型

​		1.非易失，可以在电路中编程。闪存可以被电擦除和重新编程。轻便、紧凑、节能、便宜。

​		2.NOR闪存：字可读取 块可擦除

​		3.NAND闪存：页可读取（512-4k字节） 块可擦除 NAND更便宜，擦除更快，有顺序存取时间

​		4.区别：NAND用于文件储存而NOR用于代码执行；NAND容量大，更便宜，写入快，活动时功耗低；NOR容量小，读取快，待机时功耗低。

​		5.如何从NAND FLASH启动：在NAND FLASH中存储启动相关boot代码、驱动代码，系统直接在NAND FLASH中读取并执行代码。

### 五、Cache（次重点）

​		1.cache hit：缓存命中 cache miss：缓存未命中 working set：程序在一段时间内使用的位置集合

​		2.单级缓存和多级缓存的命中时间：略

## lec5 Bus 总线 对应四（4.3）、

### 一、总线结构，常见的总线及其特点

​		1.总线是允许CPU，内存，设备互相交流的共享交流介质。总线的定义：一组电缆，并附加上通信协议。

​			总线复用是指数据和地址在同一个总线上传输的方式。

​			典型的有CLOCK线，R/W线，地址线，数据就绪线，数据线；如果有桥，则桥连接两个总线，区分快慢。

​		2.单总线结构

​			使用一条单一的总线连接CPU，主存和IO设备。总线只能分时工作，使信息传送的吞吐量受到限制。有四次握手：enq，ack，low_ack，low_enq。

​		3.双总线结构

​			在CPU和主存之间专门设置了一组高速的存储总线，使CPU可以通过专用总线与存储器交换信息。主存仍然通过系统总线与外设实现DMA操作。

​		4.多总线结构

​			在双总线系统的基础上增加IO总线，系统总线是CPU、主存和通道（IOP）之间的公共通路。

### 二、输入输出编程：忙等IO和中断IO

​		1.忙等IO：用指令检查设备是否就绪，检查的方式是轮询

​			最简单的设备驱动方式

​			CPU不能在检查设备的过程中执行其它的指令

​			很难处理同时发生的IO操作

​		2.中断IO：基于子程序调用，使下一条指令为一个子程序调用的预定位置，返回位置被保存确保执行前台程序

​			CPU和设备之间通过总线连接

​			CPU和设备之间进行握手

​			设备发出中断请求

​			当CPU能处理中断时发出中断确认请求

​		3.两种机制确保中断更加有效：优先级决定哪个中断先获得CPU；中断向量决定每个中断对应的执行代码，忙等IO效率较低，中断IO允许设备修改CPU控制流。

### 三、Programming IO：IO端口映射，IO内存映射

​		1.端口映射IO，又叫做被隔离的IO。内存和IO设备各自有自己的地址空间。端口映射IO通常使用一种特殊的CPU指令来专门执行IO操作。IN/OUT

​		2.内存映射IO，内存和IO设备共享一个地址空间。

### 四、开源硬件

​		可以通过公开渠道获得的硬件设计，任何人都可以对已有设计进行学习、修改、发布、制作、销售。

​		鼓励技术共享和开放交流。

### 五、智能硬件

​		通过软硬件结合，对传统设备进行改造，让其拥有智能化功能。

​		理解自助即可。

## lec6-1 6-2 嵌入式软件系统概述 嵌入式软件基础知识 对应五（5.1）、

### 一、嵌入式软件的特点

​		1.内存有限，影响编程语言的选择以及开发工具的使用，代码十分精简。

​		2.性能弱，CPU由于成本和功耗考虑只是恰好满足要求，具有实用性。

​		3.操作系统平台多样。

​		4.追求确定性、稳定性。

​		5.与成本等商业模式要素密切相关。

​		6.是一种模块化软件，升级更换灵活方便。

### 二、嵌入式软件的分类

​		1.系统软件：一般指嵌入式操作系统，负责嵌入式系统的全部软硬件资源分配、调度、控制、协调并发活动。

​		2.嵌入式支撑软件：支撑软件是用于帮助和支持软件开发的软件，通常包括数据库和开发工具，其中以数据库最为重要。

​		3.嵌入式应用软件：嵌入式应用软件是针对特定应用领域，基于某一固定的硬件平台，达到用户预期目标的计算机软件。

### 三、嵌入式软件体系结构

​		![](https://lxx0921.obs.cn-north-4.myhuaweicloud.com/QQ%E6%88%AA%E5%9B%BE20221029172604.png)

## lec6-3 嵌入式软件系统概述 嵌入式操作系统基础知识 对应五（5.2）、

### 一、RTOS概念，特点，（商业化RTOS的）选型原则

​		1.RTOS概念

​			RTOS是指对外来事件能够在限定响应时间内做出预定质量处理的计算机系统

​		2.RTOS特点

​			实时性、可靠性、紧凑、可裁剪、可预测性、可扩展性、抢占式内核

​		3.选型

​			综合成本、可靠性、实时性、工具链、模块、资源占用和支持考虑。

### 二、任务管理

​		1.进程、线程、任务的概念

​			进程：操作系统进行资源分配的基本单元，是计算机中的程序关于某数据集合上的一次运行活动，是系统进行资源分配和调度的基本单位，是操作系统结构的基础。

​			线程：轻量级进程，是操作系统任务调度和执行的基本单位

​			任务：最抽象、软件完成一个活动，可以是进程也可以是线程。

​		2.任务的实现

​			通过任务的层次结构、任务控制块、任务的状态及其转换、任务队列进行实现

​			任务的层次结构（个人理解）：任务ID、任务状态、优先级、地址、栈、CPU寄存器、数据指针、任务时间。

​			任务控制块：任务控制块（TCB）描述一个任务的核心数据包括任务堆栈指针、任务状态、优先级等，任务创建的时候创建TCB表。

​			任务的状态及状态转换：一个进程应在三种状态其中之一——在CPU上执行、准备好执行、等待数据。

​			任务队列：任务队列是指能够实现任务在多线程间安全传递的先入先出的队列。

​		3.任务调度

​			可抢占调度：系统将处理器分配给优先级最高的进程，更好满足紧迫作业的要求。

​			不可抢占调度：系统将处理器分配给优先级最高的进程后，该进程一直执行下去，主要用于批处理或某些实时性要求不严的实时系统。

​			先来先服务：将处理器分配给最先来的进程，只考虑先后。

​			时间片轮转算法：（用于分时系统的进程调度）先将进程按先进先出的原则排成一个队列，让首进程在CPU运行一个时间片的时间之后，将该进程放在队列末尾。

​			优先级算法：系统将处理器分配给就绪队列中优先数最高的进程（分抢占式优先级算法和非抢占式优先级算法）

​		4.实时系统及任务调度（一定会有的调度算法题）

​			RMS算法：单一速率调度，根据任务的周期长短分配优先级的高低

​				静态调度策略，分配给每个进程的优先级是固定不变的，基于单一速率分析。

​				周期最短的进程被指定为最高优先级。最后期限相当于进程必须在这么长时间内执行一次。

​			EDF算法：最早截止时限优先调度

​				动态的优先级方案，在进程执行时候根据进程的启动时间改变进程的优先级。

​				根据截止时限顺序指定优先级。最高优先级的进程是当前截至时限最临近的进程。

​				相似地，EDF算法也分为**抢占式**和不可抢占式两种。

​		5.任务间通信

​			共享内存、消息、管道、信号

​			使用邮箱和消息队列

​			使用事件控制块ECB管理核心

​		6.同步与互斥

​			相交进程之间的关系主要有两种，同步与互斥。

​			1.竞争条件就是进程对同一资源的争夺。

​			2.临界区段是指一个访问共享资源的程序片段，这些共享资源无法被多个线程同时访问的特性。（信号量操作即互斥同步是解决方案，中断也可以解决问题）

​			3.互斥：散布在不同进程之间的若干程序片段，当某个进程运行其中一个程序片段时，其它进程就不能运行这个程序片段，只能等到该进程运行完毕。

​			3.同步：散布在不同进程之间的若干程序片段，他们的运行必须按照某种先后次序完成。

​			4.信号量：是一个同步对象，用于保持0至指定最大值的一个计数值，当线程完成一次对该对象的等待时，该计数值减1，当线程完成对对象释放时，计数值加1。计数值为0，则线程等待对象不可能成功直至计数值大于0恢复到signaled状态。

​			5.死锁：两个及以上进程在执行过程中，由于竞争资源造成的阻塞现象，在无外力作用的情况下无法推进。

### 三、存储管理

​		1.嵌入式系统静态和动态内存管理（μcOS）

​			存储管理：固定分区的存储管理方法OSMemCreate，OSMemGet，OSMemPut

​			put时必须放入get时去除的内存块

​				Heap1：不支持free，简单的数组分配，适用于确定性任务

​				Heap2：简单的free，导致碎片，适用于每次申请释放内存大小相同的任务

​				Heap3：调用malloc和free，通过挂起调度器达到线程安全性

​		2.正常的答案

​			在正常开发中，嵌入式程序很少使用完全动态内存分配，这是因为开销大、malloc和free的非线程安全性质、执行时间的不确定、功能单一不便于使用等。所以嵌入式往往使用静态内存分配，即所有变量在编译时期指定大小。这同样存在缺点：内存使用效率低，需要访问控制，避免堆栈溢出。

### 四、看门狗

​		看门狗是一个定时器，要求程序每隔一段时间向其输出一个信号，如果超过了WDT的规定时间，就给MCU发送复位信号，实现嵌入式系统在无人状态下的连续工作。

​		看门狗是检测单片机程序运行状态的芯片，作用是防止单片机收到干扰后跑飞。工作原理是看门狗的一个接口与单片机的一个IO控件引脚相连，如果定时器没有在限定时间复位，表示单片机跑飞。

### 五、上下文切换

​		指CPU从一个进程切换到另一个进程/线程

​		步骤：决定是否切换，保存上下文，进程调度，恢复上下文。

### 六、优先级反转

​		当一个高优先级任务通过信号量机制访问共享资源时，该信号量已经被一低优先级任务占有，因此造成高优先级任务被许多具有低优先级的任务阻塞。

​		解决方案：

​			优先级天花板：申请资源时，把该任务的优先级提升到可访问这个资源的所有任务中的最高优先级。

​			优先级继承：当任务A申请共享资源S时，如果S在被任务C使用，则比较AC优先级，如果C的优先级低，就将C的任务优先级提升到自身优先级，待到C释放资源后恢复原来优先级。

### 七、可重入性

​		一个函数可以被多次调用。可重入函数在任何时间都可以被中断，一段时间后继续运行数据不丢失。

​		特性：原子地使用共享变量，程序内不调用非可重入函数，不以非原子方式使用硬件。

### 八、中断设计方法

​		先设计中断再编写ISR 保持ISR简短 ISR执行后断开中断 用空指针填充未使用中断向量

### 九、中断处理过程，中断执行开销

​		1.中断请求 中断排队/优先级 中断处理 中断返回

​		2.中断延迟 寄存器保护 中断服务 中断恢复

## lec6-3 嵌入式软件系统概述 嵌入式系统程序设计 对应五（5.3）、

### 一、嵌入式软件开发环境

​		1.为什么嵌入式软件要交叉开发？比较宿主机和目标机的差异。

​			为了满足代码编写编译调试与运行环境有不同要求的情况。嵌入式系统面向特定应用但不具备软件编写编译等功能，这样做可以降低嵌入式系统复杂度，降低成本。

​		2.差异

​			宿主机是通用计算机系统，目标机多为嵌入式系统。（两者在形式类型、组成、开发方式、二次开发性有差异）

​			宿主机有完整开发软件（IDE，Compiler，Debugger），生成的二进制可执行代码则通过串口传输，在专用的面向应用的目标机器上运行，并采取交叉方式进行调试。

​		3.过程

​			宿主机上开发，模拟调试

​			通过串口或网络传到目标机上

​			目标机上基于监视器和操作系统的调试

​			目标脱离宿主机运行

### 二、开发时用到编辑器、编译器、链接器、调试器、模拟器

### 三、常用的嵌入式开发工具：VSCODE BOWPAD KEIL

## lec7 嵌入式实时内核 对应六、

μC/OS-II是一个可移植的、可固化的、可扩展的、抢占式的、实时确定性的多任务内核，适用于微处理器、微控制器和DSP。

### 一、实时任务调度（lec7-1）

​		μC/OS进行任务调度的思想是“近似地每时每刻总是让优先级最高的就绪任务处于运行状态”。为了保证这一点，它在系统或用户任务调用系统函数及执行中断服务程序结束时总是“调用调度器“，来确定应该运行的任务并运行它。

​		μC/OS-II进行任务调度的依据就是任务就绪表，能以常数时间实现调度。

​		假如不能调度：使用更快的CPU、重新设计进程、更改规格说明。

### 二、中断与时钟

​		中断：由于某事件发生导致程序流程改变，产生中断的事件称为中断源

​		CPU相应中断的条件：

​			至少有一个中断源向CPU发出中断信号；系统允许中断且未屏蔽该中断。

### 三、同步与通信

​		共享内存、消息、管道、信号

​		使用邮箱和消息队列

​		使用事件控制块ECB管理核心

### 四、存储管理

​		存储管理：固定分区的存储管理方法OSMemCreate，OSMemGet，OSMemPut

​		put时必须放入get时去除的内存块

​			Heap1：不支持free，简单的数组分配，适用于确定性任务

​			Heap2：简单的free，导致碎片，适用于每次申请释放内存大小相同的任务

​			Heap3：调用malloc和free，通过挂起调度器达到线程安全性

### 五、μCOSII如何从64bit扩展到256bit

​		修改os_cfg.h中\#define OS_LOWEST_PRIO 63 -> 254

## lec8 建模 对应八、

### 一、有限状态机的定义？哪两类状态机？两者的区别？示例？

​		1.有限状态机表现有限个状态以及在这些状态之间的转移和动作等行为的数学模型

​		2.两类状态机

​			2.1状态模型：单线程，任何时候只有一个状态有效。

​				摩尔状态模型：输出信号仅仅与当前状态有关，可以把摩尔型有限状态机的输出看成是当前状态和所有输入信号的函数。

​				米尔利状态模型：输出信号不仅仅与当前状态有关，还与所有的输入信号有关，即可以把米尔利型有限状态机的输出看成是当前状态和所有输入信号的函数

​			2.2层次型有限状态机：支持并发和层次结构，同时可以有多个状态。

​		3.示例：电话、定时炸弹、自动贩卖机、电梯（考试必画）。

## lec9 板级支持包与系统引导 对应七、

### 一、嵌入式系统的启动过程

​		1.上电复位、板级初始化

​		2.系统引导/升级

​			根据需要进入系统引导或升级阶段；软件可以通过测试通信端口数据/判断特定开关的方式进入不同阶段；在NOR FLASH上运行；软件直接从外存读取加载如RAM，成本低

​		3.系统引导

​			NOR FLASH》RAM：解决成本和速度问题

​		4.系统升级

​			通过网络远程升级（TFTP、FTP、HTTP），通过串口本地升级（Console口使用超级终端或升级软件）

​		5.系统初始化

​			内核初始化、完成网络和文件系统的初始化、完成中间件的初始化

​		6.应用初始化

​			应用任务创建、信号量和消息队列创建、与应用相关的其它初始化工作

​		7.多任务应用运行

​			初始化完毕后进入多任务状态。

### 二、bsp，特点，与bios区别

​		1.bsp，板级支持包，是一段启动代码

​		2.特点

​			2.1硬件相关性：作为高层软件与硬件之间的接口，BSP必须为操作系统提供操作系统和控制具体硬件的方法。

​			2.2操作系统相关性：不同的操作系统有不同的软件层次结构，因此不同的操作系统有特定的硬件接口形式。

​		3.功能。。。

​			单板硬件初始化，为操作系统提供设备驱动和系统中断服务，定制操作系统，初始化操作系统

​		4.与BIOS的区别

​			BSP是和操作系统绑在一起运行在主板上的，而BIOS不是

​			程序员可以编程修改BSP，但是对于BIOS只能调整参数

### 三、引导模式

引导模式是将操作系统装入内存并开始执行的过程。

​		1.有bootloader的引导模式，以时间换空间，适用于性能好、运行速度快但启动速度慢的系统。

​		2.无bootloader的引导模式，闪存快速启动，但是运行速度慢且消耗存储空间。

### 四、bootloader启动过程

bootloader的概念：嵌入式系统的OS启动加载程序

​		1.初始化硬件，检测存储器

​		2.设置启动参数

​		3.跳转到操作系统的首地址

​		4.消亡

## lec0 附问答题

### 一、给出嵌入式软件轮询的伪代码描述？变种或改进？使用时注意什么？

while(true){

​	while(peek(in_status)==0)

​	*loc=peek(in_char)

​	poke(in_status,0)

​	loc++

}//读

while(true){

​	while(peek(out_status)!=0)

​	poke(out_char,*loc)

​	poke(out_Status,1)

​	loc++

}

改进：采用FLAGI标记位和FLAGO，结合终端使用。

注意：及时恢复寄存器状态，CPU占用时间长。

### 二、RTOS μCOS-II采用哪些策略与机制确保实时性？

​		固定分区存储管理；固定优先级调度；允许中断异常；任务调度选择最高优先级；可抢占性；任务调度时间确定复杂度低；有时钟中断和通信机制。

### 三、仿真开发和特点

​		复现本质过程，通过对系统模型的实验研究存在或设计中的系统。

​		计算机实现系统仿真

​		便于复杂设计

### 四、设计题看zhy的设计例子就行